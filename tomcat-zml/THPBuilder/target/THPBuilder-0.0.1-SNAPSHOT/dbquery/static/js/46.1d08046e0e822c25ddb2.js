webpackJsonp([46],{RJg9:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("BO1k"),l=e.n(r),i=e("XLwt"),o=e.n(i),n={data:function(){return{yeardate:new Date,regionoptions:[{value:"1",label:"横琴岛"},{value:"2",label:"厦门岛"}],region:"1",loadoptions:[{value:"1",label:"电负荷"}],load:"1",smodeoptions:[{value:"year",label:"按年统计"},{value:"motoh",label:"按月统计"}],smode:"1",totalTableData:[{year:"2017年",maxload:"1000",minload:"500",avgload:"200",maxloadhour:"300",seasonratio:"100"},{year:"2016年",maxload:"300",minload:"100",avgload:"200",maxloadhour:"300",seasonratio:"100"}],avgTableData:[{year:"2017年",yearavgload:"1000",yearmaxload:"5000",summerdayload:"200",winterdayload:"300"},{year:"2016年",yearavgload:"1000",yearmaxload:"4000",summerdayload:"200",winterdayload:"300"}]}},mounted:function(){this.getchart_yearloadData(),this.getchart_hourloadData(),this.getchart_dayloadData(),this.getchart_summerloadData()},methods:{headercellstyle:function(a){a.row,a.column,a.rowIndex,a.columnIndex;return"background:#E4E7EB;font-weight: bold;color: #101010;"},changeSelect:function(a){this.getchart_yearloadData(),this.getchart_hourloadData(),this.getchart_dayloadData(),this.getchart_summerloadData()},getchart_yearloadData:function(){var a=this;a.$http.get(this.BASE_INFO.BASE_URL+"api/load/getLoadCharacteristicsbyYear",{}).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data;a.initchart_yearloadData(e)}})},initchart_yearloadData:function(a){if(a){var t=[],e=[],r=[],i=0,o=!0,n=!1,d=void 0;try{for(var s,c=l()(a);!(o=(s=c.next()).done);o=!0){var u=s.value;(S={}).id=u.id,S.name=u.name,S.data=[],r.push(u.name);var h=!0,v=!1,y=void 0;try{for(var m,f=l()(u.data);!(h=(m=f.next()).done);h=!0){var p=m.value;S.data.push(p.value),0==i&&t.push(p.time)}}catch(a){v=!0,y=a}finally{try{!h&&f.return&&f.return()}finally{if(v)throw y}}e.push(S),i++}}catch(a){n=!0,d=a}finally{try{!o&&c.return&&c.return()}finally{if(n)throw d}}var _=[],g=!0,b=!1,x=void 0;try{for(var w,D=l()(e);!(g=(w=D.next()).done);g=!0){var S=w.value;_.push({name:S.name,type:"line",stack:"负荷",showSymbol:!1,data:S.data})}}catch(a){b=!0,x=a}finally{try{!g&&D.return&&D.return()}finally{if(b)throw x}}this.initchart_yearload(t,r,_)}},getchart_hourloadData:function(){var a=this;a.$http.get(this.BASE_INFO.BASE_URL+"api/load/getLoadCharacteristicsbyHour",{}).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data;a.initchart_hourloadData(e)}})},initchart_hourloadData:function(a){if(a){var t=[],e=[],r=[],i=0,o=!0,n=!1,d=void 0;try{for(var s,c=l()(a);!(o=(s=c.next()).done);o=!0){var u=s.value;(S={}).id=u.id,S.name=u.name,S.data=[],r.push(u.name);var h=!0,v=!1,y=void 0;try{for(var m,f=l()(u.data);!(h=(m=f.next()).done);h=!0){var p=m.value;S.data.push(p.value),0==i&&t.push(p.time)}}catch(a){v=!0,y=a}finally{try{!h&&f.return&&f.return()}finally{if(v)throw y}}e.push(S),i++}}catch(a){n=!0,d=a}finally{try{!o&&c.return&&c.return()}finally{if(n)throw d}}var _=[],g=!0,b=!1,x=void 0;try{for(var w,D=l()(e);!(g=(w=D.next()).done);g=!0){var S=w.value;_.push({name:S.name,type:"line",stack:"负荷",showSymbol:!1,data:S.data})}}catch(a){b=!0,x=a}finally{try{!g&&D.return&&D.return()}finally{if(b)throw x}}this.initchart_hourload(t,r,_)}},getchart_dayloadData:function(){var a=this;a.$http.get(this.BASE_INFO.BASE_URL+"api/load/getLoadCharacteristicsbyDay",{}).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data;a.initchart_dayloadData(e)}})},initchart_dayloadData:function(a){if(a){var t=[],e=[],r=[],i=0,o=!0,n=!1,d=void 0;try{for(var s,c=l()(a);!(o=(s=c.next()).done);o=!0){var u=s.value;(S={}).id=u.id,S.name=u.name,S.data=[],r.push(u.name);var h=!0,v=!1,y=void 0;try{for(var m,f=l()(u.data);!(h=(m=f.next()).done);h=!0){var p=m.value;S.data.push(p.value),0==i&&t.push(p.time)}}catch(a){v=!0,y=a}finally{try{!h&&f.return&&f.return()}finally{if(v)throw y}}e.push(S),i++}}catch(a){n=!0,d=a}finally{try{!o&&c.return&&c.return()}finally{if(n)throw d}}var _=[],g=!0,b=!1,x=void 0;try{for(var w,D=l()(e);!(g=(w=D.next()).done);g=!0){var S=w.value;_.push({name:S.name,type:"line",stack:"负荷",showSymbol:!1,data:S.data})}}catch(a){b=!0,x=a}finally{try{!g&&D.return&&D.return()}finally{if(b)throw x}}this.initchart_dayload(t,r,_)}},getchart_summerloadData:function(){var a=this;a.$http.get(this.BASE_INFO.BASE_URL+"api/load/getLoadEstimate",{}).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data;a.initchart_summerloadData(e)}})},initchart_summerloadData:function(a){if(a){var t=[],e=!0,r=!1,i=void 0;try{for(var o,n=l()(a);!(e=(o=n.next()).done);e=!0){var d=o.value;t.push(d.name)}}catch(a){r=!0,i=a}finally{try{!e&&n.return&&n.return()}finally{if(r)throw i}}this.initchart_summerload(t,a)}},initchart_yearload:function(a,t,e){var r={title:{text:"年电负荷曲线"},tooltip:{trigger:"axis"},color:["#0A6EDA","#0C9CA0"],legend:{icon:"bar",itemWidth:30,itemHeight:4,y:"bottom",data:t},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value",name:"万千瓦"},series:e};o.a.init(document.getElementById("chart_yearload")).setOption(r)},initchart_hourload:function(a,t,e){var r={title:{text:"24小时特性曲线"},tooltip:{trigger:"axis"},color:["#F5222D","#0C9CA0","#0A6EDA"],legend:{icon:"bar",itemWidth:30,itemHeight:4,y:"bottom",data:t},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value",name:"万千瓦"},series:e};o.a.init(document.getElementById("chart_hourload")).setOption(r)},initchart_dayload:function(a,t,e){var r={title:{text:"典型日电负荷曲线"},tooltip:{trigger:"axis"},color:["#0A6EDA","#0C9CA0"],legend:{icon:"bar",itemWidth:30,itemHeight:4,y:"bottom",data:t},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:a},yAxis:{type:"value",name:"万千瓦"},series:e};o.a.init(document.getElementById("chart_dayload")).setOption(r)},initchart_summerload:function(a,t){var e={title:{text:"夏季降温负荷估算"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"70%",y:"center",itemWidth:15,itemHeight:15,data:a,formatter:function(a){for(var t=0,r=0;r<e.series[0].data.length;r++)t+=e.series[0].data[r].value;for(r=0;r<e.series[0].data.length;r++){var l=(e.series[0].data[r].value/t*100).toFixed(2)+"%";if(e.series[0].data[r].name===a)return a+" "+l}}},color:["#0A6EDA","#FF9900"],series:[{name:"负荷",type:"pie",radius:["30%","50%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"18"}}},labelLine:{normal:{show:!1}},data:t}]};o.a.init(document.getElementById("chart_summerload")).setOption(e)},initTotalTableData:function(){var a=this;a.$http.get(this.BASE_INFO.BASE_URL+"api/load/getTotalLoadbyYear",{}).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data,r=[],i=!0,o=!1,n=void 0;try{for(var d,s=l()(e);!(i=(d=s.next()).done);i=!0){var c=d.value,u=[];u.year=c.year,c.data.length>4&&(u.maxload=c.data[0].value,u.minload=c.data[1].value,u.coavgloadld=c.data[2].value,u.maxloadhour=c.data[3].value,u.seasonratio=c.data[4].value),r.push(u)}}catch(a){o=!0,n=a}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}a.totalTableData=r}})},initAvgTableData:function(){var a=this;a.$http.get(this.BASE_INFO.BASE_URL+"api/load/getTotalLoadbyYear",{}).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data,r=[],i=!0,o=!1,n=void 0;try{for(var d,s=l()(e);!(i=(d=s.next()).done);i=!0){var c=d.value,u=[];u.year=c.year,c.data.length>4&&(u.yearavgload=c.data[0].value,u.yearmaxload=c.data[1].value,u.summerdayload=c.data[2].value,u.winterdayload=c.data[3].value),r.push(u)}}catch(a){o=!0,n=a}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}a.avgTableData=r}})}}},d={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticStyle:{"overflow-y":"auto"}},[e("div",{staticClass:"div-top"},[e("p",{staticClass:"title-p"},[a._v("电负荷特性")]),a._v(" "),e("span",{staticStyle:{"margin-left":"20px"}},[a._v("区域选择")]),a._v(" "),e("el-select",{staticStyle:{"margin-left":"5px"},model:{value:a.region,callback:function(t){a.region=t},expression:"region"}},a._l(a.regionoptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),a._v(" "),e("span",{staticStyle:{"margin-left":"20px"}},[a._v("负荷特性")]),a._v(" "),e("el-select",{staticStyle:{"margin-left":"5px"},model:{value:a.load,callback:function(t){a.load=t},expression:"load"}},a._l(a.loadoptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),a._v(" "),e("span",{staticStyle:{"margin-left":"20px"}},[a._v("统计方式")]),a._v(" "),e("el-select",{staticStyle:{"margin-left":"5px"},model:{value:a.smode,callback:function(t){a.smode=t},expression:"smode"}},a._l(a.smodeoptions,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),a._v(" "),e("span",{staticStyle:{"margin-left":"30px"}},[a._v("时间段选择")]),a._v(" "),e("el-date-picker",{staticStyle:{"margin-left":"5px"},attrs:{type:"year",placeholder:"选择年"},on:{change:a.changeSelect},model:{value:a.yeardate,callback:function(t){a.yeardate=t},expression:"yeardate"}})],1),a._v(" "),a._m(0),a._v(" "),a._m(1),a._v(" "),e("div",{staticClass:"div-fourth"},[e("div",{staticClass:"div-table"},[e("p",{staticClass:"table-title-p"},[a._v("年负荷特性统计")]),a._v(" "),e("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:a.totalTableData,border:"","header-cell-style":a.headercellstyle}},[e("el-table-column",{attrs:{prop:"year",label:"年份",width:"180"}}),a._v(" "),e("el-table-column",{attrs:{prop:"maxload",label:"最大负荷"}}),a._v(" "),e("el-table-column",{attrs:{prop:"minload",label:"最小负荷"}}),a._v(" "),e("el-table-column",{attrs:{prop:"avgload",label:"平均负荷"}}),a._v(" "),e("el-table-column",{attrs:{prop:"maxloadhour",label:"最大负荷利用小时数"}}),a._v(" "),e("el-table-column",{attrs:{prop:"seasonratio",label:"季不平衡系数"}})],1)],1),a._v(" "),e("div",{staticClass:"div-table",staticStyle:{"margin-left":"20px","margin-top":"20px"}},[e("p",{staticClass:"table-title-p"}),a._v(" "),e("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:a.avgTableData,"header-cell-style":a.headercellstyle,border:""}},[e("el-table-column",{attrs:{prop:"year",label:"年份",width:"180"}}),a._v(" "),e("el-table-column",{attrs:{prop:"yearavgload",label:"年平均日负荷率"}}),a._v(" "),e("el-table-column",{attrs:{prop:"yearmaxload",label:"年最大谷峰差率"}}),a._v(" "),e("el-table-column",{attrs:{prop:"summerdayload",label:"夏季典型日负荷率"}}),a._v(" "),e("el-table-column",{attrs:{prop:"winterdayload",label:"冬季典型日负荷率"}})],1)],1)])])},staticRenderFns:[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"div-second"},[t("div",{staticClass:"chart_left",attrs:{id:"chart_yearload"}}),this._v(" "),t("div",{staticClass:"chart_right",attrs:{id:"chart_hourload"}})])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"div-third"},[t("div",{staticClass:"chart_left",attrs:{id:"chart_dayload"}}),this._v(" "),t("div",{staticClass:"chart_right",attrs:{id:"chart_summerload"}})])}]};var s=e("VU/8")(n,d,!1,function(a){e("wkre")},"data-v-50d7d952",null);t.default=s.exports},wkre:function(a,t){}});
//# sourceMappingURL=46.1d08046e0e822c25ddb2.js.map