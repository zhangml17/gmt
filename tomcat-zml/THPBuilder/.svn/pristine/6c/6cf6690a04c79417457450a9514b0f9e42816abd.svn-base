webpackJsonp([6],{I9vC:function(e,t){},RtWk:function(e,t){},Uo8m:function(e,t){},hPdi:function(e,t){},hSR0:function(e,t){},hhv5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("9qQU"),i={data:function(){return{options:[{value:"devType",label:"设备类型列表"},{value:"property",label:"托管资产树"}],typeValue:"devType",showdevTypeList:!0,showpropertyTree:!1,devTypeList:[],currentId:1,treeData:[{id:11,label:"斗门区 (12)",children:[{id:21,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:22,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:23,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"}]},{id:12,label:"金湾区 (6)",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"横琴新区 (6)",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1"}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}],devTypeTableData:[{devType:"变压器",devModel:"S13",serviceCycle:"3天"}],propertyTreeTableData:[{customer:"B客户",stationName:"小琴电站",devName:"1#变压器",tourCycle:"3天"},{customer:"B客户",stationName:"小琴电站",devName:"1#变压器",tourCycle:"3天"},{customer:"B客户",stationName:"小琴电站",devName:"1#变压器",tourCycle:"3天"},{customer:"B客户",stationName:"小琴电站",devName:"1#变压器",tourCycle:"3天"},{customer:"B客户",stationName:"小琴电站",devName:"1#变压器",tourCycle:"3天"}]}},mounted:function(){this.getDevTypeList(),this.getServiceRuleSet(),this.getSpecialRule()},methods:{clickDevType:function(e){this.currentId=e+1},changeType:function(){"devType"==this.typeValue?(this.showdevTypeList=!0,this.showpropertyTree=!1):"property"==this.typeValue&&(this.showdevTypeList=!1,this.showpropertyTree=!0)},PVviewById:function(e){},getDevTypeList:function(){var e=this;e.$http.get(this.BASE_INFO.BASE_URL+"api/common/getDevTypeList",{}).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data;e.devTypeList=a}})},getServiceRuleSet:function(){var e=this,t={devId:e.currentId};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getServiceRuleSet",t).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data.data;e.devTypeTableData=a}})},getSpecialRule:function(){var e=this,t={devId:e.currentId};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getSpecialRule",t).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data.data;e.propertyTreeTableData=a}})}},components:{TreeOrg:l.a}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"left rule-tree"},[a("el-select",{staticClass:"rule-select",attrs:{placeholder:"请选择"},on:{change:e.changeType},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showdevTypeList,expression:"showdevTypeList"}],staticClass:"devTypeList"},[a("div",{staticClass:"left-line"}),e._v(" "),a("ul",{staticClass:"dev-item-wrap"},e._l(e.devTypeList,function(t,l){return a("li",{staticClass:"type-item",class:{active:t.id==e.currentId},on:{click:function(t){e.clickDevType(l)}}},[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t.devName))])])}))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showpropertyTree,expression:"showpropertyTree"}],staticClass:"propertyTree"},[a("TreeOrg",{attrs:{treeData:e.treeData},on:{PVviewById:e.PVviewById}})],1)],1),e._v(" "),a("div",{staticClass:"left chart-wrap order-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showdevTypeList,expression:"showdevTypeList"}]},[a("div",{staticClass:"hidden form-list"},[a("div",{staticClass:"left sub-title"},[e._v("设备检修规则设置")]),e._v(" "),a("div",{staticClass:"right btn-confirm-small"},[a("el-button",{attrs:{icon:"el-icon-plus",size:"mini"}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini"}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-close",size:"mini"}},[e._v("删除")])],1)]),e._v(" "),a("div",{staticClass:"hidden"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"750",data:e.devTypeTableData,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"devType",label:"设备类型",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"devModel",label:"设备型号",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceCycle",label:"检修周期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[a("i",{staticClass:"el-icon-edit icon-option",on:{click:function(a){e.handleEdit(t.$index,t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[a("i",{staticClass:"el-icon-close icon-option",on:{click:function(a){e.handleClose(t.$index,t.row)}}})])]}}])})],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showpropertyTree,expression:"showpropertyTree"}]},[a("div",{staticClass:"hidden form-list"},[a("div",{staticClass:"left sub-title"},[e._v("特殊检修设置")]),e._v(" "),a("div",{staticClass:"right btn-confirm-small"},[a("el-button",{attrs:{icon:"el-icon-plus",size:"mini"}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini"}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-close",size:"mini"}},[e._v("删除")])],1)]),e._v(" "),a("div",{staticClass:"hidden"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"750",data:e.propertyTreeTableData,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customer",label:"客户",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"电站名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"devName",label:"设备名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tourCycle",label:"巡视周期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[a("i",{staticClass:"el-icon-edit icon-option",on:{click:function(a){e.handleEdit(t.$index,t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[a("i",{staticClass:"el-icon-close icon-option",on:{click:function(a){e.handleClose(t.$index,t.row)}}})])]}}])})],1)],1)])])])},staticRenderFns:[]};var n=a("VU/8")(i,r,!1,function(e){a("hSR0")},null,null).exports,s={data:function(){return{treeData:[{id:11,label:"斗门区 (12)",children:[{id:21,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:22,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:23,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"}]},{id:12,label:"金湾区 (6)",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"横琴新区 (6)",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1"}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}],form:{orderStatus:[],value:"",value1:"待发布",dayDate:[new Date,new Date]},planServiceList:[{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"}]}},mounted:function(){this.getOrderStatus(),this.getPlanServiceList()},methods:{PVviewById:function(e){},searchPlanList:function(){this.getPlanServiceList()},getOrderStatus:function(){var e=this;e.$http.get(this.BASE_INFO.BASE_URL+"api/common/getOrderStatus",{}).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data;e.form.orderStatus=a}})},getPlanServiceList:function(){var e=this,t={orderStatus:e.form.orderStatus,dayDate:e.form.dayDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getPlanServiceList",t).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data.data;e.planServiceList=a}})}},components:{TreeOrg:l.a}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"left"},[a("TreeOrg",{attrs:{treeData:e.treeData},on:{PVviewById:e.PVviewById}})],1),e._v(" "),a("div",{staticClass:"left chart-wrap order-container"},[a("div",{staticClass:"hidden form-list"},[a("div",{staticClass:"left sub-title"},[e._v("计划检修列表")]),e._v(" "),a("div",{staticClass:"right"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.form.orderStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.dayDate,callback:function(t){e.$set(e.form,"dayDate",t)},expression:"form.dayDate"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-confirm",attrs:{label:""}},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.searchPlanList(t)}}},[e._v("确认")])],1),e._v(" "),a("el-form-item",{staticClass:"btn-confirm-small"},[a("el-button",{attrs:{icon:"el-icon-upload2",size:"mini"}},[e._v("推送")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",size:"mini"}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini"}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-close",size:"mini"}},[e._v("删除")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"hidden"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"750",data:e.planServiceList,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"电站名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceSite",label:"检修地点","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceContent",label:"检修内容","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"工单状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planStartTime",label:"计划开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planEndTime",label:"计划结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualStartTime",label:"实际开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualEndTime",label:"实际结束时间"}})],1)],1)])])},staticRenderFns:[]};var c=a("VU/8")(s,o,!1,function(e){a("w1a8")},"data-v-33ed18c2",null).exports,d={data:function(){return{treeData:[{id:11,label:"斗门区 (12)",children:[{id:21,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:22,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:23,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"}]},{id:12,label:"金湾区 (6)",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"横琴新区 (6)",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1"}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}],form:{orderStatus:[],value:"",value1:"待发布",dayDate:[new Date,new Date]},planServiceList:[{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"}]}},mounted:function(){this.getOrderStatus(),this.getPlanServiceList()},methods:{PVviewById:function(e){},searchPlanList:function(){this.getPlanServiceList()},getOrderStatus:function(){var e=this;e.$http.get(this.BASE_INFO.BASE_URL+"api/common/getOrderStatus",{}).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data;e.form.orderStatus=a}})},getPlanServiceList:function(){var e=this,t={orderStatus:e.form.orderStatus,dayDate:e.form.dayDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getPlanServiceList",t).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data.data;e.planServiceList=a}})}},components:{TreeOrg:l.a}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"left"},[a("TreeOrg",{attrs:{treeData:e.treeData},on:{PVviewById:e.PVviewById}})],1),e._v(" "),a("div",{staticClass:"left chart-wrap order-container"},[a("div",{staticClass:"hidden form-list"},[a("div",{staticClass:"left sub-title"},[e._v("计划检修列表")]),e._v(" "),a("div",{staticClass:"right"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.form.orderStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.dayDate,callback:function(t){e.$set(e.form,"dayDate",t)},expression:"form.dayDate"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-confirm",attrs:{label:""}},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.searchPlanList(t)}}},[e._v("确认")])],1),e._v(" "),a("el-form-item",{staticClass:"btn-confirm-small"},[a("el-button",{attrs:{icon:"el-icon-upload2",size:"mini"}},[e._v("推送")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",size:"mini"}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini"}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-close",size:"mini"}},[e._v("删除")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"hidden"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"750",data:e.planServiceList,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"电站名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceSite",label:"检修地点","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceContent",label:"检修内容","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"工单状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planStartTime",label:"计划开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planEndTime",label:"计划结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualStartTime",label:"实际开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualEndTime",label:"实际结束时间"}})],1)],1)])])},staticRenderFns:[]};var m=a("VU/8")(d,v,!1,function(e){a("RtWk")},"data-v-cc71e7de",null).exports,u=a("XLwt"),p=a.n(u),h={data:function(){return{treeData:[{id:11,label:"斗门区 (12)",children:[{id:21,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:22,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:23,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"}]},{id:12,label:"金湾区 (6)",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"横琴新区 (6)",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1"}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}],form:{options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",value1:"",monthDate:[new Date,new Date]},devTypeTableData:[{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"},{taskName:"JX-001—XXXXXX",customerName:"B客户",stationName:"小琴站",serviceSite:"XX区XX路32号",serviceContent:"对XXX设备进行检修",orderStatus:"已接收",planStartTime:"2018/7/2",planEndTime:"2018/7/2",actualStartTime:"2018/7/2",actualEndTime:"2018/7/2"}]}},mounted:function(){this.getMonthPlanStaChart(),this.getMonthPlanAnyChart()},methods:{PVviewById:function(e){},getMonthPlanStaChart:function(){p.a.init(document.getElementById("monthTroubleStaChart")).setOption({color:["#37BAF2","#815BF6","#39D5ED","#FFB931","#FD5D71"],tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",top:20,right:50,align:"left",data:["待发布","已发布","已接收","已完结","已超时"]},series:[{name:"",type:"pie",center:["30%","50%"],radius:["70%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"24",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:335,name:"待发布"},{value:310,name:"已发布"},{value:234,name:"已接收"},{value:135,name:"已完结"},{value:1548,name:"已超时"}]}]})},getMonthPlanAnyChart:function(){p.a.init(document.getElementById("monthPlanAnyChart")).setOption({color:["#868686","#209BFD"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{x:"4%",y:"15%",x2:"1%",y2:"8%"},legend:{data:["上月缺陷","本月缺陷"],align:"left",right:0},calculable:!0,xAxis:[{type:"category",axisTick:{show:!0},data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#e6e8ed"}}}],yAxis:[{type:"value",name:"单位：条",nameTextStyle:{color:"#666666"},axisTick:{show:!1},axisLabel:{color:"#666666"},splitLine:{lineStyle:{color:"#e6e8ed"}},axisLine:{lineStyle:{color:"#e6e8ed"}}}],series:[{name:"上月缺陷",type:"bar",data:[130,170,200,180,160,150,200,250,230,170,220,230],barWidth:"30%"},{name:"本月缺陷",type:"bar",data:[188,156,201,268,231,176,220,231,123,167,200,198],barWidth:"30%",itemStyle:{normal:{label:{textStyle:{color:"#fff"},show:!0,position:"top"}}}}]})}},components:{TreeOrg:l.a}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"left"},[a("TreeOrg",{attrs:{treeData:e.treeData},on:{PVviewById:e.PVviewById}})],1),e._v(" "),a("div",{staticClass:"left chart-wrap order-container"},[a("div",{staticClass:"hidden form-list"},[a("div",{staticClass:"left sub-title"},[e._v("故障列表")]),e._v(" "),a("div",{staticClass:"right"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.form.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"来源"}},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.form.value1,callback:function(t){e.$set(e.form,"value1",t)},expression:"form.value1"}},e._l(e.form.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.monthDate,callback:function(t){e.$set(e.form,"monthDate",t)},expression:"form.monthDate"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-confirm",attrs:{label:""}},[a("el-button",{attrs:{size:"mini"}},[e._v("确认")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"hidden"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"400",data:e.devTypeTableData,stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"电站名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceSite",label:"检修地点","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceContent",label:"检修内容","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"工单状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planStartTime",label:"计划开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"planEndTime",label:"计划结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualStartTime",label:"实际开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualEndTime",label:"实际结束时间"}})],1)],1),e._v(" "),a("el-row",{staticClass:"top-layout margin-top",attrs:{gutter:15}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-dark month-plan-sta"},[a("p",{staticClass:"order-title"},[e._v("月度故障统计")]),e._v(" "),a("div",{attrs:{id:"monthTroubleStaChart"}}),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"quota-article"},[a("span",{staticClass:"quota-size orange"},[e._v("5")]),e._v(" 条")]),e._v(" "),a("p",{staticClass:"quota-article"},[e._v("故障上报")])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"quota-article"},[a("span",{staticClass:"quota-size green"},[e._v("5")]),e._v(" 条")]),e._v(" "),a("p",{staticClass:"quota-article"},[e._v("已检修")])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"quota-article"},[a("span",{staticClass:"quota-size orange"},[e._v("5")]),e._v(" 条")]),e._v(" "),a("p",{staticClass:"quota-article"},[e._v("上月遗留")])])])],1)],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-dark month-plan-any"},[a("p",{staticClass:"order-title"},[e._v("月度故障分析")]),e._v(" "),a("div",{attrs:{id:"monthPlanAnyChart"}})])])],1)],1)])},staticRenderFns:[]};var f=a("VU/8")(h,b,!1,function(e){a("I9vC")},"data-v-248bdf2e",null).exports,S={data:function(){return{treeData:[{id:11,label:"斗门区 (12)",children:[{id:21,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:22,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"},{id:23,label:"珠海新青科技工业园太阳能光伏发电项目(伟创力厂区)"}]},{id:12,label:"金湾区 (6)",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"横琴新区 (6)",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1"}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}],form:{month:new Date},servicePlan:0,archived:0}},mounted:function(){this.getServicePlanStaItem(),this.getServicePlanSta(),this.getServicePlanAny(),this.getServicePlanDelSta(),this.getServiceTroubleAny()},methods:{PVviewById:function(e){},searchAll:function(){this.getServicePlanStaItem(),this.getServicePlanSta(),this.getServicePlanAny(),this.getServicePlanDelSta(),this.getServiceTroubleAny()},getServicePlanSta:function(){var e=this,t={monthDate:e.form.monthDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getServicePlanSta",t).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data;e.getMonthPlanStaChart(a)}})},getServicePlanAny:function(){var e=this,t={monthDate:e.form.monthDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getServicePlanAny",t).then(function(t){if(t&&t.data&&t.data.data){for(var a=t.data.data[0].data,l=[],i=1;i<=31;i++)l.push(i);e.getMonthPlanAnyChart(a,l)}})},getServicePlanStaItem:function(){var e=this,t={monthDate:e.form.monthDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getServicePlanStaItem",t).then(function(t){if(t&&t.data&&t.data.data)for(var a=t.data.data,l=0;l<a.length;l++)"检修计划"==a[l].name?e.servicePlan=a[l].value:"已归档"==a[l].name&&(e.archived=a[l].value)})},getServicePlanDelSta:function(){var e=this,t={monthDate:e.form.monthDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getServiceSta",t).then(function(t){if(t&&t.data&&t.data.data){var a=t.data.data;e.getMonthDelStaChart(a)}})},getServiceTroubleAny:function(){var e=this,t={monthDate:e.form.monthDate};e.$http.post(this.BASE_INFO.BASE_URL+"api/resource/getServiceTroubleAny",t).then(function(t){if(t&&t.data&&t.data.data){for(var a=t.data.data[0].data,l=[],i=1;i<=31;i++)l.push(i);e.getMonthDelAnyChart(a,l)}})},getMonthPlanStaChart:function(e){var t={color:["#37BAF2","#815BF6","#39D5ED","#FFB931","#FD5D71"],tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",top:40,right:50,align:"left",data:["待发布","已发布","已接收","执行中","完成"]},series:[{name:"",type:"pie",center:["30%","50%"],radius:["70%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"24",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:e}]};p.a.init(document.getElementById("monthServicePlanSta")).setOption(t)},getMonthPlanAnyChart:function(e,t){var a={color:["#209BFD"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{x:"4%",y:"15%",x2:"1%",y2:"8%"},calculable:!0,xAxis:[{type:"category",axisTick:{show:!0},data:t,axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#e6e8ed"}}}],yAxis:[{type:"value",name:"单位：条",nameTextStyle:{color:"#666666"},axisTick:{show:!1},axisLabel:{color:"#666666"},splitLine:{lineStyle:{color:"#e6e8ed"}},axisLine:{lineStyle:{color:"#e6e8ed"}}}],series:[{name:"计划执行",type:"line",data:e,barWidth:"30%"}]};p.a.init(document.getElementById("monthPlanAnyChart")).setOption(a)},getMonthDelStaChart:function(e){var t={color:["#37BAF2","#815BF6","#39D5ED","#FFB931","#FD5D71"],tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",top:90,right:50,align:"left",data:["计划检修","故障检修"]},series:[{name:"",type:"pie",center:["30%","50%"],radius:["70%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"24",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:e}]};p.a.init(document.getElementById("monthDelStaChart")).setOption(t)},getMonthDelAnyChart:function(e,t){var a={color:["#209BFD"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{x:"4%",y:"15%",x2:"1%",y2:"8%"},calculable:!0,xAxis:[{type:"category",axisTick:{show:!0},data:t,axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#e6e8ed"}}}],yAxis:[{type:"value",name:"单位：起",nameTextStyle:{color:"#666666"},axisTick:{show:!1},axisLabel:{color:"#666666"},splitLine:{lineStyle:{color:"#e6e8ed"}},axisLine:{lineStyle:{color:"#e6e8ed"}}}],series:[{name:"故障检修",type:"line",data:e,barWidth:"30%"}]};p.a.init(document.getElementById("monthDelAnyChart")).setOption(a)}},components:{TreeOrg:l.a}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"left"},[a("TreeOrg",{attrs:{treeData:e.treeData},on:{PVviewById:e.PVviewById}})],1),e._v(" "),a("div",{staticClass:"left chart-wrap order-container"},[a("div",{staticClass:"hidden"},[a("div",{staticClass:"right form-list"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.form.month,callback:function(t){e.$set(e.form,"month",t)},expression:"form.month"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-confirm-small",attrs:{label:""}},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){return e.searchAll(t)}}},[e._v("确认")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"hidden"},[a("el-row",{staticClass:"top-layout",attrs:{gutter:15}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-dark month-plan-sta"},[a("p",{staticClass:"order-title"},[e._v("月度计划统计")]),e._v(" "),a("div",{attrs:{id:"monthServicePlanSta"}}),e._v(" "),a("el-row",{staticClass:"margin-top",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"quota-item",staticStyle:{"margin-bottom":"0"}},[e._v("检修计划 "),a("span",{staticClass:"quota-size blue"},[e._v(e._s(e.servicePlan))]),e._v(" 条")])])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"quota-item",staticStyle:{"margin-bottom":"0"}},[e._v("已归档 "),a("span",{staticClass:"quota-size orange"},[e._v(e._s(e.archived))]),e._v(" 条")])])])],1)],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-dark month-plan-any"},[a("p",{staticClass:"order-title"},[e._v("月度计划分析")]),e._v(" "),a("div",{attrs:{id:"monthPlanAnyChart"}})])])],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-dark month-plan-sta"},[a("p",{staticClass:"order-title"},[e._v("月度检修统计")]),e._v(" "),a("div",{attrs:{id:"monthDelStaChart"}})])]),e._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-dark month-plan-any"},[a("p",{staticClass:"order-title"},[e._v("月度故障检修分析")]),e._v(" "),a("div",{attrs:{id:"monthDelAnyChart"}})])])],1)],1)])])},staticRenderFns:[]};var _={data:function(){return{activeName:"serviceRule",showserviceRule:!0,showplanService:!1,showtroubleService:!1,showtroubleAny:!1,showmonthServiceSta:!1}},methods:{handleClick:function(e,t){"serviceRule"==e.paneName?(this.showserviceRule=!0,this.showplanService=!1,this.showtroubleService=!1,this.showtroubleAny=!1,this.showmonthServiceSta=!1):"planService"==e.paneName?(this.showserviceRule=!1,this.showplanService=!0,this.showtroubleService=!1,this.showtroubleAny=!1,this.showmonthServiceSta=!1):"troubleService"==e.paneName?(this.showserviceRule=!1,this.showplanService=!1,this.showtroubleService=!0,this.showtroubleAny=!1,this.showmonthServiceSta=!1):"troubleAny"==e.paneName?(this.showserviceRule=!1,this.showplanService=!1,this.showtroubleService=!1,this.showtroubleAny=!0,this.showmonthServiceSta=!1):"monthServiceSta"==e.paneName&&(this.showserviceRule=!1,this.showplanService=!1,this.showtroubleService=!1,this.showtroubleAny=!1,this.showmonthServiceSta=!0)}},components:{serviceRule:n,planService:c,troubleService:m,troubleAny:f,monthServiceSta:a("VU/8")(S,X,!1,function(e){a("hPdi")},"data-v-1dd10736",null).exports}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"检修规则",name:"serviceRule"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"计划检修",name:"planService"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"故障检修",name:"troubleService"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"故障分析",name:"troubleAny"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"月度检修统计",name:"monthServiceSta"}})],1),e._v(" "),a("div",[e.showserviceRule?a("serviceRule"):e._e(),e._v(" "),e.showplanService?a("planService"):e._e(),e._v(" "),e.showtroubleService?a("troubleService"):e._e(),e._v(" "),e.showtroubleAny?a("troubleAny"):e._e(),e._v(" "),e.showmonthServiceSta?a("monthServiceSta"):e._e()],1)],1)},staticRenderFns:[]};var g=a("VU/8")(_,y,!1,function(e){a("Uo8m")},"data-v-4c12d621",null);t.default=g.exports},w1a8:function(e,t){}});
//# sourceMappingURL=6.594dbddb2c217ba6d7fc.js.map